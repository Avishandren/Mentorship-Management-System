<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentor Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="{{ url_for('dashboard') }}">Mentor Management</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto"> 
                    {% if session['role'] == 'student' %}
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('apply') }}">Apply</a></li>
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('my_applications') }}">My Applications</a></li>
                    {% elif session['role'] == 'admin' %}
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('all_applications') }}">Manage Applications</a></li>
                    {% endif %}
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('logout') }}">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container mt-4">
        {% block content %}{% endblock %}
    </div>
</body>
</html>










<!-- 

@app.route('/send_message', methods=['POST'])
def send_message():
    if 'user' not in session:
        return redirect(url_for('login'))

    sender = session['user']
    sender_role = session['role']
    
    receiver_id = request.form['receiver_id']
    receiver_role = request.form['receiver_role']
    content = request.form['content']
    file = request.files.get('file')

    file_url = None
    if file:
        file_path = f'static/uploads/{file.filename}'
        file.save(file_path)
        file_url = file_path

    message = Message(
        sender_id=sender,
        sender_role=sender_role,
        receiver_id=receiver_id,
        receiver_role=receiver_role,
        content=content,
        file_url=file_url
    )
    db.session.add(message)
    db.session.commit()
    
    return jsonify({"message": "Message sent successfully"}), 200

@app.route('/get_messages/<int:receiver_id>/<string:receiver_role>')
def get_messages(receiver_id, receiver_role):
    if 'user' not in session:
        return redirect(url_for('login'))

    sender = session['user']
    sender_role = session['role']

    messages = Message.query.filter(
        ((Message.sender_id == sender) & (Message.receiver_id == receiver_id) &
         (Message.sender_role == sender_role) & (Message.receiver_role == receiver_role)) |
        ((Message.sender_id == receiver_id) & (Message.receiver_id == sender) &
         (Message.sender_role == receiver_role) & (Message.receiver_role == sender_role))
    ).order_by(Message.timestamp).all()

    return jsonify([
        {
            "sender_id": msg.sender_id,
            "receiver_id": msg.receiver_id,
            "content": msg.content,
            "file_url": msg.file_url,
            "timestamp": msg.timestamp.strftime('%Y-%m-%d %H:%M:%S')
        } for msg in messages
    ])


class Message(db.Model):
    message_id = db.Column(db.Integer, primary_key=True)
    sender_id = db.Column(db.Integer, nullable=False)  # Can be student_id or mentor_id
    receiver_id = db.Column(db.Integer, nullable=False)  # Can be student_id or mentor_id
    sender_role = db.Column(db.String(10), nullable=False)  # 'student' or 'mentor'
    receiver_role = db.Column(db.String(10), nullable=False)  # 'student' or 'mentor'
    content = db.Column(db.Text, nullable=False)
    file_url = db.Column(db.String(255), nullable=True)  # For attachments
    timestamp = db.Column(db.DateTime, default=datetime.utcnow)


    app.config['UPLOAD_FOLDER'] = 'static/uploads'
app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  # 16MB max file size

-->